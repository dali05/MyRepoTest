@Mapper(componentModel = "spring")
public interface UserMapper {

    UserDto avroToDto(User user);
    User dtoToAvro(UserDto dto);

    // CharSequence <-> String
    default String charSequenceToString(CharSequence value) {
        return value == null ? null : value.toString();
    }

    default CharSequence stringToCharSequence(String value) {
        return value;
    }

    // Civilite enum <-> String
    default String civiliteEnumToString(CiviliteSymbols civilite) {
        return civilite == null ? null : civilite.name();
    }

    default CiviliteSymbols stringToCiviliteEnum(String civilite) {
        return civilite == null ? null : CiviliteSymbols.valueOf(civilite);
    }
}