@Mapper(componentModel = "spring")
public interface UserMapper {

    UserDto avroToDto(User user);

    User dtoToAvro(UserDto dto);

    // CharSequence <-> String
    default String map(CharSequence value) {
        return value == null ? null : value.toString();
    }

    default CharSequence map(String value) {
        return value;
    }

    // Civilite enum <-> String
    default String map(CiviliteSymbols civilite) {
        return civilite == null ? null : civilite.name();
    }

    default CiviliteSymbols map(String civilite) {
        return civilite == null ? null : CiviliteSymbols.valueOf(civilite);
    }
}