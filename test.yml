package com.lma.apiresponse.api.exception;

import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.*;

/**
 * âœ… Tests unitaires pour {@link NotFoundException}
 */
class NotFoundExceptionTest {

    @Test
    void testConstructor_shouldBuildProperMessage() {
        // Arrange
        String resource = "User";
        int id = 123;

        // Act
        NotFoundException ex = new NotFoundException(resource, id);

        // Assert
        assertEquals(ErrorType.RESOURCE_NOT_FOUND, ex.getType());
        assertEquals(404, ex.getStatus());
        assertEquals("RES-404", ex.getCode());
        assertEquals("User with id=123 not found", ex.getMessage());
    }

    @Test
    void testConstructor_shouldHandleNullId() {
        // Arrange
        String resource = "Order";

        // Act
        NotFoundException ex = new NotFoundException(resource, null);

        // Assert
        assertEquals("Order with id=null not found", ex.getMessage());
        assertEquals(404, ex.getStatus());
        assertEquals(ErrorType.RESOURCE_NOT_FOUND, ex.getType());
    }
}
